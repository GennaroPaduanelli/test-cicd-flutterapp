"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1210],{1210:(P,d,a)=>{a.r(d),a.d(d,{RegistrationPageModule:()=>x});var c=a(6895),l=a(433),g=a(603),p=a(7486),e=a(4650),u=a(527),h=a(3071),m=a(3293);function M(t,r){if(1&t&&(e.TgZ(0,"h2",21),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.validationMessage)}}function f(t,r){1&t&&e._UZ(0,"ion-spinner",22)}const v=[{path:"",component:(()=>{class t{constructor(n,i,s,o){this.userLocalStorageStorage=n,this.userService=i,this.firebaseAuthService=s,this.navController=o,this.azienda="",this.nome="",this.cognome="",this.email="",this.password="",this.validationMessage="",this.visibleValidationMessage=!1,this.visibleSpinner=!1}ngOnInit(){}registrati(){if(""!=this.azienda&&""!=this.nome&&""!=this.cognome&&""!=this.email&&""!=this.password){var i=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$").test(this.email);i&&this.password.length>=6?this.firebaseAuthService.doRegister({email:this.email,password:this.password}).then(s=>{let o={azienda:this.azienda,cognome:this.cognome,nome:this.nome,uuid_utente:s.user.multiFactor.user.uid};this.userService.saveUser(o).then(C=>{this.userLocalStorageStorage.signOut(),this.userLocalStorageStorage.saveUser(o),this.visibleSpinner=!0,setTimeout(()=>{this.navController.navigateForward("misurazioni")},1800)}).catch(C=>{this.validationMessage="Errore Registrazione",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)})}).catch(s=>{this.validationMessage="Errore Registrazione",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)}):i?this.password.length<=5&&(this.validationMessage="La password inserita deve essere minimo 6 caratteri",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)):(this.validationMessage="Inserisci una email valida",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500))}else this.validationMessage="Campi vuoti",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.B),e.Y36(h.K),e.Y36(m.X),e.Y36(g.SH))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registration"]],decls:36,vars:7,consts:[[1,"container"],[1,"form"],[1,"title"],[1,"subtitle"],[1,"input-container","ic3"],["id","azienda","type","text","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],[1,"cut"],["for","azienda",1,"placeholder"],[1,"input-container","ic2"],["id","nome","type","text","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],[1,"cut","cut-short"],["for","nome",1,"placeholder"],["id","cognome","type","text","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],["for","cognome",1,"placeholder"],["id","email","type","text","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],["for","email",1,"placeholder"],["id","password","type","password","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],["for","password",1,"placeholder"],["style","color:red;text-align: center;",4,"ngIf"],["type","text",1,"submit",3,"click"],["class","ion-spinner","name","circular","color","secondary",4,"ngIf"],[2,"color","red","text-align","center"],["name","circular","color","secondary",1,"ion-spinner"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Registrazione"),e.qZA(),e.TgZ(4,"div",3),e._uU(5,"Inserisci i dati registrazione"),e.qZA(),e.TgZ(6,"div",4)(7,"input",5),e.NdJ("ngModelChange",function(o){return i.azienda=o}),e.qZA(),e._UZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"Azienda"),e.qZA()(),e.TgZ(11,"div",8)(12,"input",9),e.NdJ("ngModelChange",function(o){return i.nome=o}),e.qZA(),e._UZ(13,"div",10),e.TgZ(14,"label",11),e._uU(15,"Nome"),e.qZA()(),e.TgZ(16,"div",8)(17,"input",12),e.NdJ("ngModelChange",function(o){return i.cognome=o}),e.qZA(),e._UZ(18,"div",10),e.TgZ(19,"label",13),e._uU(20,"Cognome"),e.qZA()(),e.TgZ(21,"div",8)(22,"input",14),e.NdJ("ngModelChange",function(o){return i.email=o}),e.qZA(),e._UZ(23,"div",10),e.TgZ(24,"label",15),e._uU(25,"Email"),e.qZA()(),e.TgZ(26,"div",8)(27,"input",16),e.NdJ("ngModelChange",function(o){return i.password=o}),e.qZA(),e._UZ(28,"div",10),e.TgZ(29,"label",17),e._uU(30,"Password"),e.qZA()(),e.YNc(31,M,2,1,"h2",18),e.TgZ(32,"button",19),e.NdJ("click",function(){return i.registrati()}),e._uU(33,"Registrati"),e.qZA(),e._UZ(34,"br"),e.YNc(35,f,1,0,"ion-spinner",20),e.qZA()()),2&n&&(e.xp6(7),e.Q6J("ngModel",i.azienda),e.xp6(5),e.Q6J("ngModel",i.nome),e.xp6(5),e.Q6J("ngModel",i.cognome),e.xp6(5),e.Q6J("ngModel",i.email),e.xp6(5),e.Q6J("ngModel",i.password),e.xp6(4),e.Q6J("ngIf",i.visibleValidationMessage),e.xp6(4),e.Q6J("ngIf",i.visibleSpinner))},dependencies:[c.O5,l.Fj,l.JJ,l.On,g.PQ],styles:[".container[_ngcontent-%COMP%]{align-items:center;background-image:url(wallpaper.ae506ee631960cb4.jpg);display:flex;justify-content:center;height:100vh;margin-top:48px;background-repeat:no-repeat}.form[_ngcontent-%COMP%]{background-color:#15172b;border-radius:20px;box-sizing:border-box;height:640px;padding:20px;width:320px}.title[_ngcontent-%COMP%]{color:#eee;font-family:sans-serif;font-size:36px;font-weight:600;margin-top:10px;margin-left:20px}.subtitle[_ngcontent-%COMP%]{color:#eee;font-family:sans-serif;font-size:16px;font-weight:600;margin-top:10px;margin-left:30px}.input-container[_ngcontent-%COMP%]{height:50px;position:relative;width:100%}.ic1[_ngcontent-%COMP%]{margin-top:40px}.ic3[_ngcontent-%COMP%]{margin-top:20px}.ic2[_ngcontent-%COMP%]{margin-top:22px}.input[_ngcontent-%COMP%]{background-color:#303245;border-radius:12px;border:0;box-sizing:border-box;color:#eee;font-size:18px;height:100%;outline:0;padding:4px 20px 0;width:100%}.cut[_ngcontent-%COMP%]{background-color:#15172b;border-radius:10px;height:20px;left:20px;position:absolute;top:-20px;transform:translateY(0);transition:transform .2s;width:76px}.cut-short[_ngcontent-%COMP%]{width:70px}.input[_ngcontent-%COMP%]:focus ~ .cut[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .cut[_ngcontent-%COMP%]{transform:translateY(8px)}.placeholder[_ngcontent-%COMP%]{color:#65657b;font-family:sans-serif;left:20px;line-height:14px;pointer-events:none;position:absolute;transform-origin:0 50%;transition:transform .2s,color .2s;top:20px}.input[_ngcontent-%COMP%]:focus ~ .placeholder[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .placeholder[_ngcontent-%COMP%]{transform:translateY(-30px) translate(10px) scale(.75)}.input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .placeholder[_ngcontent-%COMP%]{color:#808097}.input[_ngcontent-%COMP%]:focus ~ .placeholder[_ngcontent-%COMP%]{color:#dc2f55}.submit[_ngcontent-%COMP%]{background-color:#08d;border-radius:12px;border:0;box-sizing:border-box;color:#eee;cursor:pointer;font-size:18px;height:50px;margin-top:20px;text-align:center;width:100%}.submit[_ngcontent-%COMP%]:active{background-color:#06b}.ion-spinner[_ngcontent-%COMP%]{margin-top:40px;margin-left:43.5%}"]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(v),p.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,l.u5,g.Pc,b]}),t})()}}]);