"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2590],{2590:(b,g,o)=>{o.r(g),o.d(g,{LoginPageModule:()=>x});var c=o(6895),l=o(433),d=o(603),u=o(7486),e=o(4650),p=o(3293),h=o(527),f=o(3071);function m(t,s){if(1&t&&(e.TgZ(0,"h2",13),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.validationMessage)}}const v=[{path:"",component:(()=>{class t{constructor(n,i,r,a){this.authService=n,this.userLocalStorageService=i,this.userService=r,this.navCtrl=a,this.email="",this.password="",this.validationMessage="",this.visibleValidationMessage=!1}login(){if(""!=this.password&&""!=this.email){var i=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$").test(this.email);i&&this.password.length>=6?this.authService.doLogin({email:this.email,password:this.password}).then(r=>{this.userService.getUserByUuid_utente(r.user.multiFactor.user.uid).subscribe(a=>{null!=a[0]&&(this.userLocalStorageService.saveUser(a[0]),window.location.reload(),setTimeout(()=>{this.navCtrl.navigateForward("misurazioni")},3e3),setTimeout(()=>{this.userLocalStorageService.signOut(),this.navCtrl.navigateForward("home")},864e5))})}).catch(r=>{this.validationMessage="Credenziali non valide",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)}):i?this.password.length<=5&&(this.validationMessage="La password inserita deve essere minimo 6 caratteri",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)):(this.validationMessage="Inserisci una email valida",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500))}else this.validationMessage="Credenziali vuote",this.visibleValidationMessage=!0,setTimeout(()=>{this.validationMessage="",this.visibleValidationMessage=!1},1500)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.X),e.Y36(h.B),e.Y36(f.K),e.Y36(d.SH))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"container"],[1,"form"],[1,"title"],[1,"subtitle"],[1,"input-container","ic2"],["id","lastname","type","text","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],[1,"cut"],["for","lastname",1,"placeholder"],["id","email","type","password","placeholder"," ",1,"input",3,"ngModel","ngModelChange"],[1,"cut","cut-short"],["for","email",1,"placeholder"],["style","color:red;text-align: center; ",4,"ngIf"],["type","text",1,"submit",3,"click"],[2,"color","red","text-align","center"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Accesso"),e.qZA(),e.TgZ(4,"div",3),e._uU(5,"Inserisci dati accesso"),e.qZA(),e.TgZ(6,"div",4)(7,"input",5),e.NdJ("ngModelChange",function(a){return i.email=a}),e.qZA(),e._UZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"Email"),e.qZA()(),e.TgZ(11,"div",4)(12,"input",8),e.NdJ("ngModelChange",function(a){return i.password=a}),e.qZA(),e._UZ(13,"div",9),e.TgZ(14,"label",10),e._uU(15,"Password"),e.qZA()(),e.YNc(16,m,2,1,"h2",11),e.TgZ(17,"button",12),e.NdJ("click",function(){return i.login()}),e._uU(18,"Login"),e.qZA()()()),2&n&&(e.xp6(7),e.Q6J("ngModel",i.email),e.xp6(5),e.Q6J("ngModel",i.password),e.xp6(4),e.Q6J("ngIf",i.visibleValidationMessage))},dependencies:[c.O5,l.Fj,l.JJ,l.On],styles:[".container[_ngcontent-%COMP%]{align-items:center;background-image:url(wallpaper.efd42db9a1e745de.jpg);display:flex;justify-content:center;height:100vh;margin-top:48px;background-repeat:no-repeat}.form[_ngcontent-%COMP%]{background-color:#15172b;border-radius:20px;box-sizing:border-box;height:500px;padding:20px;width:320px}.title[_ngcontent-%COMP%]{color:#eee;font-family:sans-serif;font-size:36px;font-weight:600;margin-top:30px;margin-left:70px}.subtitle[_ngcontent-%COMP%]{color:#eee;font-family:sans-serif;font-size:16px;font-weight:600;margin-top:10px;margin-left:60px}.input-container[_ngcontent-%COMP%]{height:50px;position:relative;width:100%}.ic1[_ngcontent-%COMP%]{margin-top:40px}.ic2[_ngcontent-%COMP%]{margin-top:30px}.input[_ngcontent-%COMP%]{background-color:#303245;border-radius:12px;border:0;box-sizing:border-box;color:#eee;font-size:18px;height:100%;outline:0;padding:4px 20px 0;width:100%}.cut[_ngcontent-%COMP%]{background-color:#15172b;border-radius:10px;height:20px;left:20px;position:absolute;top:-20px;transform:translateY(0);transition:transform .2s;width:76px}.cut-short[_ngcontent-%COMP%]{width:70px}.input[_ngcontent-%COMP%]:focus ~ .cut[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .cut[_ngcontent-%COMP%]{transform:translateY(8px)}.placeholder[_ngcontent-%COMP%]{color:#65657b;font-family:sans-serif;left:20px;line-height:14px;pointer-events:none;position:absolute;transform-origin:0 50%;transition:transform .2s,color .2s;top:20px}.input[_ngcontent-%COMP%]:focus ~ .placeholder[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .placeholder[_ngcontent-%COMP%]{transform:translateY(-30px) translate(10px) scale(.75)}.input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .placeholder[_ngcontent-%COMP%]{color:#808097}.input[_ngcontent-%COMP%]:focus ~ .placeholder[_ngcontent-%COMP%]{color:#dc2f55}.submit[_ngcontent-%COMP%]{background-color:#08d;border-radius:12px;border:0;box-sizing:border-box;color:#eee;cursor:pointer;font-size:18px;height:50px;margin-top:38px;text-align:center;width:100%}.submit[_ngcontent-%COMP%]:active{background-color:#06b}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(v),u.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,l.u5,d.Pc,M]}),t})()}}]);